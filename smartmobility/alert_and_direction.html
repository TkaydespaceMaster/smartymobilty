<!DOCTYPE html>
<html>
<head>
  <title>Best Route and Direction Search</title>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlbTpqymqItfJVfrMvlr1yB4Od4BDrxoY"></script>
  <script>
    function initMap() {
      // Create a map object and center it on the initial location
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 12,
        center: {lat: 37.7749, lng: -122.4194}
      });

      // Create a directions service object to use the route method and get directions
      var directionsService = new google.maps.DirectionsService();

      // Create a directions renderer object to display the route
      var directionsRenderer = new google.maps.DirectionsRenderer({
        map: map
      });

      // Create a search button element and add a click event listener to it
      var searchBtn = document.getElementById('searchBtn');
      searchBtn.addEventListener('click', function() {
        // Get the start and end location values from the input fields
        var start = document.getElementById('start').value;
        var end = document.getElementById('end').value;

        // Get the travel mode value from the radio buttons
        var travelMode = document.querySelector('input[name="travelMode"]:checked').value;

        // Create a directions request object and set the origin, destination, and travel mode
        var request = {
          origin: start,
          destination: end,
          travelMode: travelMode.toUpperCase()
        };

        // Call the route method of the directions service object and pass the request and a callback function
        directionsService.route(request, function(result, status) {
          if (status == 'OK') {
            // Check for any alerts along the route
            var warnings = result.routes[0].warnings;
            if (warnings.length > 0) {
              // Display an alert message if there are any warnings
              alert(warnings[0]);
            }

            // Display the route on the map using the directions renderer object
            directionsRenderer.setDirections(result);

            // Display the estimated arrival time on the page
            var arrivalTime = result.routes[0].legs[0].arrival_time.text;
            document.getElementById('arrivalTime').textContent = 'Estimated arrival time: ' + arrivalTime;
          } else {
            // Display an error message if the search was unsuccessful
            alert('Directions request failed due to ' + status);
          }
        });
      });
    }
    
  </script>
  <script>
    directionsService.route({
  origin: start,
  destination: destination,
  travelMode: mode
}, function(response, status) {
  if (status === 'OK') {
    directionsRenderer.setDirections(response);
    var route = response.routes[0];
    var time = route.legs[0].duration.text;
    alert('Estimated time of arrival: ' + time);
  } else if (status === 'ZERO_RESULTS') {
    alert('Sorry, no route could be found. Please check your starting location and destination.');
  } else {
    alert('Directions request failed due to ' + status);
  }
});

  </script>
</head>
<body onload="initMap()">
  <div>
    <label>Start:</label>
    <input type="text" id="start" placeholder="Enter start location">
    <label>End:</label>
    <input type="text" id="end" placeholder="Enter end location">
    <br>
    <input type="radio" name="travelMode" value="driving" checked> Driving<br>`````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````  ```````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````` 
    <input type="radio" name="travelMode" value="walking"> Walking
    <button id="searchBtn">Search</button>
  </div>
  <div id="map" style="height:500px"></div>
  <div id="arrivalTime"></div>
</body>
</html>
